![j](https://github.com/user-attachments/assets/11c5c342-b7c1-44b0-a8fe-bfd417c9bb0a)


### Sommaire :
#### 1) [Méthodes Agiles](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#1-m%C3%A9thodes-agiles) :
 * #### 1.1 Définition :
 * #### 1.2 Etapes et Compositions : 
   * #### 1.2.1  Sprint Backlog.
   * #### 1.2.2 Sprint planning.
   * #### 1.2.3 Daily scrum.
   * #### 1.2.4 Sprint review.
 * #### 1.3 Rôles et Définitions.
 #### 2) [Git/Git-Hub](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#2-gitgit-hub--1) : 
   * #### 2.1 Git :
     * #### 2.1.1 Dépot Distant.
     * #### 2.1.2 Branche et Flow. 
     * #### 2.1.3 Conflit Merge.
     * #### 2.1.4 Clé SSH.
  * #### 2.2 Full git François!
   * #### 2.3 Git-Hub :
     * #### 2.3.1 Clé SSH.


#### 3) [Réseau](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#3-r%C3%A9seau--1) :
 * #### 3.1 [Principes des réseaux](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#3-r%C3%A9seau--1) :  
    * #### 3.1.1 [Introduction](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#311-introduction-1).
    * #### 3.1.2 [protocole réseau.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#312-protocole-r%C3%A9seau-1)
    * #### 3.1.3 [Modéle en couche.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#313-mod%C3%A9le-en-couche-1)
    * #### 3.1.4 [Modèle OSI.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#314-mod%C3%A8le-osi-1)
    * #### 3.1.5 [Modèle TCP\IP.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#315-mod%C3%A8le-tcpip-1)
    * #### 3.1.6 [Matériel d'interconnection.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#316-mat%C3%A9riel-dinterconnection-1)
* #### 3.2 [Ethernet](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#32-ethernet-) 
   * #### 3.2.1 [Normes et Architecture.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#321-normes-et-architecture-1)
   * #### 3.2.2 [Cablage et équipement.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#322-cablage-et-%C3%A9quipement-1)
     * #### 3.2.2.1 [La commutation.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#3221-la-commutation-1)
   * #### 3.2.3 [Adresse Mac.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#323-adresse-mac-1)
   * #### 3.2.4 [Trame ethernet.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#324-trame-ethernet-1)
   * #### 3.2.5 [Protocole CSMA/CD.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#325-protocole-csmacd-1)
   * #### 3.2.6 [Les VLAN.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#326-les-vlan-1)
* #### 3.3 [IPv4](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#31-principes-des-r%C3%A9seaux-).
   * #### 3.3.1 [Protocole et Définitions.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#331-protocole-et-d%C3%A9finitions-1)
   * #### 3.3.2 [Les Adresses.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#332-les-adresses-1)
     * #### 3.3.2.1 [Définitions.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#3321-d%C3%A9finitions-1)
     * #### 3.3.2.2 [CIDR.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#3322-cidr-1)
     * #### 3.3.2.3 [Adresse réservées.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#3323-adresse-r%C3%A9serv%C3%A9es-1)
     * #### 3.3.2.4 [Les Masques.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#3324-les-masques-1)
     * #### 3.3.2.5 [Calculs.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#3325-calculs-1)
  * #### 3.3.3 [Configurations du réseau :](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#333-configurations-du-r%C3%A9seau--1)
  * #### 3.3.4 [Les paquets :](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#334-les-paquets--1)
  * #### 3.3.5 [Les Protocoles connexes :](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#334-les-paquets--1)
* #### 3.4 [IPv6 :](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#34-ipv6) 
  * #### 3.4.1 [Objectifs.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#341-objectifs-1)
  * #### 3.4.2 [Définition + Notions.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#342-d%C3%A9finition--notions-1)
  * #### 3.4.3 [Autoconfiguration.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#343-autoconfiguration-1)
  * #### 3.4.4 [Entêtes.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#344-ent%C3%AAtes-1)
  * #### 3.4.5 [Protocoles associés.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#345-protocoles-associ%C3%A9s-1)
* #### 3.5 [DHCP :](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#35-dhcp)
  * #### 3.5.1 [Principes.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#351-principes-1)
  * #### 3.5.2 [Mise en oeuvre.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#352-mise-en-oeuvre-1)
    * #### 3.5.2.1 [Débian 12.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#3521-d%C3%A9bian-12-1)
    * #### 3.5.2.2 [Windows 22.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#3522-windows-22-1)
 * #### 3.6 [Le routage :](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#36-le-routage--1)
   * #### 3.6.1 [Définition et notions.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#361-d%C3%A9finition-et-notions-1)
   * #### 3.6.2 [Mécaniques.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#362-m%C3%A9caniques-1)
   * #### 3.6.3 [Tables de routages.](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#363-tables-de-routages-1)
   * #### 3.6.4 [Routage dynamique](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#364-routage-dynamique-1)
     * #### 3.6.4.1 [Protocoles dynamiques](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#3641-protocoles-dynamiques-1)
     * #### 3.6.4.2 [Protocoles de transport](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#3642-protocoles-de-transport-1)
       * #### 3.6.4.3.1 [UDP](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#36431-udp-1)
       * #### 3.6.4.3.2 [TCP](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#36432-tcp)
      * #### 3.6.4.3 [Les ports](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#3643-les-portsliens-du-sites-avec-tous-les-ports--les-principaux-1)
      
      
* #### 3.6.5 [NAT :](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#365-nat)
     * #### 3.6.5.1 [Basic NAT](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#3651-basic-nat-1)
     * #### 3.6.5.2 [NAPT](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#365-napt)


* #### 3.7 Active Directory
  * #### 3.7.1 Créer un ADDS
  * #### 3.7.2 GPO
  * #### 3.7.3 Gestion client
* #### 4) Serveur
**DEPLACER DHCP**
  * #### 4.1 DNS
    * #### 4.1.1 Windows
    * #### 4.1.2 Linux
  * #### 4.2 PROXMOX
   * #### 4.2.1 Ajout/Gestion disque
   * #### 4.2.2 Vm
     * #### 4.2.2.1 Clones
     * #### 4.2.2.2 Template
     * #### 4.2.2.3 Snapshot
  * #### 4.3  
* #### 5) Cisco Packet Tracer
  * #### 5.1 Routage Commande


#### 1) Méthodes Agiles 
 * ####  1.1 Définitions
   ##### Création de **cycles répétitif**, ayant pour buts la **réalisations de projets complexes,** en intégrant un procédé **incrémentale**, des différentre étape de la réalisation, des solutions techniques, et des livrables. 
 * #### 1.2 Etapes et Compositions
   * #### 1.2.1 Le Product Backlog:
   #####  Il existe pendant **toute la durée du projet** et contient une **liste** de tout les éléments nécessaires à l'amélioration du produit.Ces éléments sont classés par ordre de priorité pour le client,ils évolue quotidiennement. Géré par le **Product Owner**
   * #### 1.2.2  Sprint Backlog
   ##### Est un  **plan du sprint**, il construit le sprint **planning**, il contient les objectifs du sprint, la liste des éléments du product backlog choisi plan opérationnel pour réussir à finir cette liste pendant le sprint (planning détail technique).(Utilisation du **Definition of Done** niveau de qualité attendu).

   * #### 1.2.3 Sprint planning
   ##### Planning du sprint, **Objectifs**, **points techniques**, Comment ces détails vont être réalisés.   
   * #### 1.2.4 Daily scrum
   ##### **Réunions courtes**, Inspecter l'avancement et adapter le plan si besoin,Identifier les problèmes / Proposer des solutions, même heure, même lieu tous les jours.
   * #### 1.2.5 Sprint review
   **Réunion pour examiner le résultat du sprint**, décider des adaptations nécessaires, ajustement du product backlog 
   * #### 1.3 Rôles et Définitions
 #####  Un **Scrum master :** facilite l'application de la méthode Scrum, un **Product Owner :** porteur de la vision de la valeur du produit,Des développeurs : équipe pluridisciplinaire en charge de la réalisation du produit.
#### 2) Git/Git-Hub : 
   * #### 2.1 Git
     * #### 2.1.1 Dépot Distant
     ##### ((penser à passer en "main" pour pouvoir faire certaine action ( rendre la destination C:, safe aux yeux de git):)) 
    git config --global --add safe.directory C:/
##### Effacer tout dépot précédant 

    git remote rm origin.


 ##### **TOUJOURS ECRIRE APRES /c:**


  1) ##### lande@Admin MINGW64 /c (main) git remote add origin  [REMOTE_URL] : faire le liens entre le dépôt distant aux dépôt local  
  2) ##### lande@Admin MINGW64 /c (main)  : git remote -v ((vérifier le lien le dépôt local et à distance)) 
 3) ##### lande@Admin MINGW64 /c (main)  git clone [REMOTE FILE NAME] : ((clone le fichier depuis GuitHub à Git))
 4) ##### lande@Admin MINGW64 /c/my-awesome-project (main) git pull origin main ((ECRIRE DANS LE FICHIER SOURCE!!!))  clone les modifs
 5) ##### lande@Admin MINGW64 /c/my-awesome-project (main) nano ou echo ["MESSAGE"] > [FILE]
 6) ##### lande@Admin MINGW64 /c/my-awesome-project (main) git add [FILE]
 7) ##### lande@Admin MINGW64 /c/my-awesome-project (main) git commit -m <"NEW MESSAGE">
 8) ##### lande@Admin MINGW64 /c/my-awesome-project (main) git push origin main

 * #### 2.1.2 Branche et Flow 
   intro: 	après création de différentes branches, on peux visionner l'avancement via Insights puis 	Network en bas à Gauche.


##### ((TOUJOURS ECRIRE DANS LE FICHIER CIBLE!!!!))

##### après avoir clone le commit:
1) ##### lande@Admin MINGW64 ~/git/website-flow (main)  git branch ((donne la branche ou l'on se trouve)) 					2) lande@Admin MINGW64 ~/git/website-flow (main) git branch [NEWBRANCH]
3) ##### lande@Admin MINGW64 ~/git/website-flow (main) git checkout [OTHERBRANCH]
4) ##### Modification via le tuto précédent et push sur GitHub
   * ##### 2.1.3 Conflit Merge
  ###### Quand un conflit apparait entre un dépôt distant et un dépôt local:(( après git pull))
     git pull origin main
##### ((MESSAGE ERREUR)) Le conflits se sont inscrit dans le dossier README
   
>remote: Enumerating objects: 5, done.
remote: Counting objects: 100% (5/5), done.
remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0 (from 0)
Unpacking objects: 100% (3/3), 897 bytes | 44.00 KiB/s, done
From github.com:NALSED/A
  branch            main       -> FETCH_HEAD
   56d5465..9d7d130  main       -> origin/main
Auto-merging README.md
CONFLICT (content): Merge conflict in README.md
Automatic merge failed; fix conflicts and then commit the result.

##### Edition
    nano README.md

> "<<<<<<< HEAD"
		[LOCALE]
		[ici va s'afficher les différences de la branche dans laquelle je me trouve, en l'occurrence local]	
		"======="
		[REMOTE]
		[ici va s'afficher les différences de l'autre branche en l'occurrence le poste sur GitHub] 
		 ">>>>>>> main"

##### Quand le choix est fait supprimer la partie indésirable.
##### **Toujours penser à commit les modifs, sinon probléme de branch et update...**
1) ##### lande@Admin MINGW64 ~/git/A (main) git add README.md		
2) ##### lande@Admin MINGW64 ~/git/A (main) git commit -m "[TEXT]	
3) ##### lande@Admin MINGW64 ~/git/A (main) git pull origin main ((UPDATE LES DEUX VERSION))
4) ##### lande@Admin MINGW64 ~/git/A (main) git push origin main ((C'EST BUENOS!!))

* #### 2.1.4 Clé SSH.
##### Utiliser gh_2.57.0_windows_amd64 avec le tuto pour créer un clé SSH entre GitHub et Git
* #### 2.2 Full git francois!
 
# SOMMAIRE : 

- [Remarques générales/précautions](#remarques-généralesprécautions)
- [Avant de travailler dans les dépôts](#avant-de-travailler-dans-les-dépôts)
- [Cas de figure 1 : Créer un dépot git depuis un répertoire local](#cas-de-figure-1-créer-un-dépôt-git-depuis-un-répertoire-local)
- [Cas de figure 2 : Récupérer un dépot distant vers mon espace local](#cas-de-figure-2-récupérer-un-dépôt-distant-vers-mon-espace-local)
  - [A local copy](#a-local-copy)
  - [Manip des branches](#manip-des-branches)
  - [Lier branche locale et distante](#lier-branche-locale-et-distante)
  - [On push now?](#on-push-now)
  - [Fusion](#fusion)
- [Je veux juste les commandes](#je-veux-juste-les-commandes)
  - [Cas de figure 1](#cas-de-figure-1)
  - [Cas de figure 2](#cas-de-figure-2)
  - [Recap commandes utiles](#recap-commandes-utiles)
- [Pourquoi utiliser Git/GitHub?](#pourquoi-utiliser-gitgithub)
- [Pourquoi utiliser le terminal?](#pourquoi-utiliser-le-terminal)
- [Pourquoi utiliser VS code ? (Ou un autre IDE)](#pourquoi-utiliser-vs-code-ou-un-autre-ide)
- [EN COURS : Quelques spécificités](#en-cours--quelques-spécificités)
- [Ressources](#ressources)

# Remarques générales/précautions : 

<br>

* Ne pas travailler directement dans *main*. Attendre l'aval de l'équipe au complet pour *push* du code dans *main* (communiquer).
* Aussi, bien communiquer qui travaille sur quelle tâche. Les tâches, qui peuvent contenir une ou plusieurs fonctionnalités, sont suffisamment bien découpées et comprises par tout le monde (de manière à ce qu'on puisse les découper par branche).
* Lorsque le *main* est entamé, qu'on travaille sur une nouvelle version, correction de bug, ou nouvelle fonctionnalité : dans votre espace de travail, retourner régulièrement sur la branche principale *git checkout main* pour faire des *git pull*. Ceci permet de toujours partir sur une base à jour et évite des conflits inutiles.
* Avant de faire des *Pull Request*, tester le code avant (logique, mais bon).
* Parce ce que *main* se rapproche du livrable, trancher sur ce qui va dedans ou à l'inverse ce qui doit être revu/corrigé est à la charge du PO
* Trancher sur comment les tâches se découpent et se répartissent est à la charge du SM. La logique ne veut pas forcément 1 branche = 1 personne, même si c'est plus safe ainsi au départ. Il peut être plus efficace de travailler à deux ou plus sur la même branche, il s'agit de communiquer et de comprendre les commandes git.

<p align="center">
<img src="https://github.com/Eulsi/Basic-gitGithub-manip-pour-TSSR/blob/main/imgGuide/BrancheDecoupExemple2.svg" alt="Pictures" width="400" >
</p>

<p align="center">
<i>Exemple d'une découpe en branches pour du git et d'une répartition des tâches</i>
</p>



* Ce guide souhaite transmettre de bonnes pratiques assez générales, il ne s'agit pas de la meilleure procédure pour chaque cas. Les remarques et corrections sont les bienvenues.

<br>

#  Avant de travailler dans les dépôts

<br>

***Git*** = logiciel de gestion de versions installé localement

***Github*** = plateforme de dépot de fichiers à distance, managée par git.

***Workspace*** != ***Local-repository*** != ***Remote-repository***
>*il est important de comprendre que votre espace de travail est un espace différent du dépot local, ce dernier est censé faire mirroir avec le dépot distant*

<br>

Tester si votre connexion ssh a bien été établie entre votre machine locale et github :

```ssh -T git@github.com```

 On vous demandera probablement un mot de passe ou la "passphrase" que vous avez du fournir lors du partage de votre clé ssh
entre votre compte et la machine locale.

Si la connexion est bien établie, vous recevrez un msg dans le terminal du genre "*Hi User ! You've successfully authenticated, but GitHub does not provide shell access.*"

Si vous avez besoin de générer une clé ssh sur votre machine, suivre ce tuto : [générer une paire de clés ssh à la main](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent)

<br>

# Cas de figure 1 : Créer un dépot git depuis un répertoire local

<br>

<ins>Situation</ins> : J'ai un dossier, un espace de travail sur ma machine que je veux pouvoir gérer avec git. Je souhaite qu'il soit disponible depuis mon compte github.

:small_orange_diamond:  ```cd``` dans mon espace de travail.

```git init```

```git add . ```

``` git commit -m "toujours préciser un commentaire, ici, bon, 'start' suffit" ```

<br>

:small_orange_diamond: Sur github : créer un dépot en ligne, lui donner un nom, pas besoin de readme car on a déjà initialisé le dépot en local.
Récupérer son lien ssh.

<p align="center">
<img src="https://github.com/Eulsi/Basic-gitGithub-manip-pour-TSSR/blob/main/imgGuide/recupSSHGit.gif" alt="Pictures" width="600" >
</p>

<br>

:small_orange_diamond: Reprendre le terminal du dépôt local

```git remote add origin git@github.com:username/nom-du-depot.git```

``` git push -u origin main.```

>*git remote va vous faire le lien entre votre espace de travail et le nom du dépôt github*
> 
>*-u est en réalité la contraction de "--set-upstream" , qui va lier votre branche locale à la branche distante*

<br>

Par défaut, la branche active est la branche principale *main*. La bonne pratique veut que nous n'ajoutions pas directement de modifications dans *main*, pour des questions de sécurité, mais aussi selon l'organisation de l'équipe. Le *main* doit être la branche considérée comme le résultat final, le plus proche du livrable et ce qui est *push* dessus devrait idéalement ne plus être modifié et prêt à l'emploi.

<br>

# Cas de figure 2 : Récupérer un dépot distant vers mon espace local

<br>

<ins>Situation </ins> : Je n'ai pas encore travaillé dans mon dossier local, je souhaite récupérer le contenu du dépot distant (de mon équipe ou de qqun d'autre) pour travailler dessus en local.

>*Pour avoir les droits d'accès et de manipulation d'un dépot dont on est pas propriétaire, il faut s'assurer que l'administrateur/propriétaire de ce dépot ajoute notre clé ssh au dépot, et nous ajoute en tant que collaborateur.*

### A local copy


<p align="center">
<img src="https://github.com/Eulsi/Basic-gitGithub-manip-pour-TSSR/blob/main/imgGuide/get-alocalcopy.png" alt="Pictures" width="300" >
</p>

:small_orange_diamond: Cloner le dépot distant sur son espace de travail en local :

```cd ``` dans mon espace de travail

```git clone <url ou lien ssh dépot> ```

Attention, en général on ne souhaite pas que vous modifiez directement le travail existant de quelqu'un d'autre.
C'est pourquoi il est important de travailler sur une autre branche, celle qui vous a été attribuée ou que vous allez créer.

<br>

### Manip des branches

Bien qu'on soit dans le terminal, une aide visuelle sur les branches peut être utile.

:small_orange_diamond:  Faites ```git branch -a```

La branche active est signalée avec une astérisque devant son nom. En l'occurence ca devrait être \*main 

:small_orange_diamond:  Créons notre nouvelle branche.

```git branch ma-nouvelle-fonctionnalité```

Si vous tentez à nouveau ```git branch -a``` vous remarquerez que votre nouvelle branche a été créée, mais il ne s'agit pas de la branche active.
A ce moment toute modification effectuée dans votre espace de travail se fera directement dans *main*.

:small_orange_diamond:  Changez de branche avec 

``` git checkout ma-nouvelle-fonctionnalité``` ou ```git switch ma-nouvelle-fonctionnalité```

*git checkout* permet de se déplacer à un endroit, et ici rendra la branche choisie active.

> *A savoir, ```git checkout -b ma-nouvelle-fonctionnalité``` réalise les deux dernières commandes en une seule*

<p align="center">
<img src="https://github.com/Eulsi/Basic-gitGithub-manip-pour-TSSR/blob/main/imgGuide/chmntBranch.png" alt="Pictures" width="600" >
</p>

<br>

### Lier branche locale et distante

:small_orange_diamond: ```git push -u origin ma-nouvelle-fonctionnalité``` ( -u pour --set-upstream)

Si la connexion a bien été établie au préalable, cette commande ajuste l'arboresence de votre dépot distant github avec votre nouvelle branche.
Pourquoi la réaliser à ce moment ? 
* Elle notifie l'équipe qu'une nouvelle branche a été créée et qu'une fonctionnalité est en cours de travail.
* Aussi tous vos nouveaux *git add . git commit git push* permettront de sécuriser votre travail en ayant une copie distante. 
* Un coéquipier peut se permettre de visualiser/tester vos modif en l'état et communiquer avec vous s'il voit quelque chose à dire (prévenir bug ou proposer de nouvelles choses).

<p align="center">
<img src="https://github.com/Eulsi/Basic-gitGithub-manip-pour-TSSR/blob/main/imgGuide/localDistantBranch.png" alt="Pictures" width="700" >
</p>

<br>

La suite, vous la connaissez, on envoie les passagers en vacances.

:small_orange_diamond: Après avoir réalisé vos modifs dans vos fichiers,

```git add . ```

```git commit -m "le commentaire que j'ai pas oublié"```

>*L'importance de spécifier un commentaire à chaque commit est autant une question de collaboration que de conserver l'utilité de github.*
>
>*Imaginons que je souhaite revenir au commit "15" réalisé il y a une semaine. Je peux vérifier la liste des commits, mais sur les 40 que me propose github je n'ai aucun souvenir duquel a modifié quoi. Je suis obligé de retourner dans le code à chaque commit pour le relire et retrouver cette maudite modification qui pose problème. Faisable mais pas rapide.*
>
>*Si je réalise la bonne description, fidèle à la modification enregistrée, je peux facilement retrouver à quoi correspond quoi. Mais j'aide aussi grandement mes équipiers à comprendre l'évolution de mon code, comme dans le cas où ce serait à eux de passer en revue le code en mon absence.*

<br>

### On push now?

Attenzione...

Avant de push votre travail, pendant que vous travailliez quelqu'un a peut être déjà modifié le tronc commun, le *main*.

(Normalement non. Mais peut être).

Il est important de récupérer le dépot distant tel qu'il est en état actuel pour ensuite placer votre ajout ou votre modification. Ceci permettant d'éviter des erreurs de conflits supplémentaires ou de se battre inutilement avec une version obsolète du code commun :expressionless:

Cette remarque prend pour exemple le *main*, mais il peut très bien s'agir d'une arborescence plus chargée.

<ins>Exemple</ins> : une branche nommée "gestion-utilisateurs" parente de votre branche "attribution-droits-ecriture"; avant de *push* votre branche "attribution-droits-ecritures" restez attentif à ce que "gestion-utilisateur" n'aie pas été modifiée pendant votre travail sur l'attribution de droit, et pour s'assurer de cela on peut tout simplement pull la dernière version de la branche parente. Il se peut que cela ne change rien du tout, il s'agit d'une précaution.


<p align="center">
<img src="https://github.com/Eulsi/Basic-gitGithub-manip-pour-TSSR/blob/main/imgGuide/git-mess.png" alt="Pictures" width="300" >
</p>

<br>

:small_orange_diamond: Dans notre cas, retour dans la branche principale *main*

```git checkout main```

```git pull origin main``` (à faire fréquemment pour maintenir le code en commun à jour)

```git checkout ma-nouvelle-fonctionnalité```

```git push```

> dans ``` git pull origin main ``` "origin" spécifie à git que c'est depuis le dépot distant que nous voulons la récupération du *main*.

<br>

### Fusion

Si à un moment donné dans votre travail, la fonctionnalité que vous créez sur votre branche est estimée sufisamment fonctionnelle, vous pouvez décider après la triade *add-commit-push* de faire une *Pull Request* depuis github. Ce n'est pas toujours très utile. Mais c'est très fair-play.

La *Pull Request* envoie une notification aux collaborateurs et surtout à la personne responsable de l'administration du dépot distant, par exemple le PO.
C'est avec celle-ci, ou le responsable de la branche parente, que le travail de collaboration se poursuit. En général on fait une revue du code ensemble pour anticiper les conflits s'il y en a et approuver l'ajout de cette nouvelle portion de code dans le *main* (ou la branche à fusionner).

:small_orange_diamond: Avec ou sans *Pull Request*, fusionner la branche quand on est prêt.
Se placer dans la branche de destination = la branche qui va recevoir les modifs d'une autre branche.

```git checkout main```

```git merge ma-nouvelle-fonctionnalité```


C'est à cette étape que git signale si la fusion est possible ou non. Si conflit il y a, on retourne en collaboration sur le code.
Pour la résolution de conflits, deux possibilités.
Réaliser la résolution de conflit depuis le terminal (ou VS code) ou depuis l'interface github qui propose un visuel de gestion de conflits intéressant.
Dans VS code ou Github, les lignes problématiques car différentes d'une branche à l'autre apparaissent en rouge.

Lorsque la fusion est terminée et que les conflits sont résolus, il est préférable de retester le code.
Si ce dernier se comporte comme souhaité, selon que vous ayez géré le conflit depuis un *Pull Request* github ou depuis le terminal en local :

* Si la fusion a été effectuée localement :

:small_orange_diamond: ```git push origin main``` envoyez le résultat du *merge* dans le dépot distant

* Si la fusion a été effectuée sur GitHub :

:small_orange_diamond: ```git pull origin main```  Dans cet autre cas, récupérez le résultat du *merge* effectué sur le dépot distant


De cette manière, dépot local et distant sont synchronisés.

<br>

# Je veux juste les commandes :

<br>

### Cas de figure 1

:small_orange_diamond: Créer un dépot local avec git (dans notre espace de travail)
```
git init
git add .
git commit -m "toujours préciser un commentaire, ici, bon, 'start' suffit"
```

:small_orange_diamond: Créer un dépot en ligne <ins>sur Github</ins>, puis l'associer au local

```
git remote add origin git@github.com:username/nom-du-depot.git
git push -u origin main.
```
:small_orange_diamond: Reproduire cette dernière commande pour la création de nouvelles branches.

:small_orange_diamond: Faire ses modfis *add/commit*

:small_orange_diamond: Poursuivre avec les même étapes du cas de figure 2 à partir de "On push"

 <br>

### Cas de figure 2


:small_orange_diamond: Préparer une copie locale
```
git clone <url ou lien ssh dépot>
git branch ma-nouvelle-fonctionnalité
git checkout ma-nouvelle-fonctionnalité
git push -u origin ma-nouvelle-fonctionnalité
```
:small_orange_diamond: Faire ses modifs

```
git add . 
git commit -m "le commentaire que j'ai pas oublié"
```
:small_orange_diamond: Mettre à jour la branche parente avant *push*

```
git checkout main
git pull origin main
git checkout ma-nouvelle-fonctionnalité
git push
```

:small_orange_diamond: Fusionner

```
git checkout main
git merge ma-nouvelle-fonctionnalité
```
:small_orange_diamond: Remettre à jour distant et local avec *git push* ***ou*** *git pull* selon le choix du *merge*
```
git push origin main
git pull origin main
```

 <br>

### Recap commandes utiles

1. Vérifier l'historique des commits :
   ```bash
   git log
   ```
2. Vérifier l'état du dépôt :
   ```bash
   git status
   ```
3. Créer un dépôt local :
   ```bash
   git init
   ```
4. Ajouter des fichiers :
   ```bash
   git add nom-du-fichier
   ```
   ou pour tous les fichiers :
   ```bash
   git add .
   ```
5. Faire un commit :
   ```bash
   git commit -m "m pour message, commenter son commit"
   ```
6. Lier le dépôt local à GitHub :
   ```bash
   git remote add origin lien-ssh-du-dépôt
   git push -u origin main
   ```
7. Cloner un dépôt distant :
   ```bash
   git clone url ou lien ssh dépôt
   ```
8. Créer une branche :
   ```bash
   git branch nom-branche
   ```
9. Changer de branche :
   ```bash
   git checkout nom-branche
   ```
   ou 
   ```bash
   git switch nom-branche
   ```
10. Pousser une branche :
    ```bash
    git push -u origin nom-branche
    ```
11. Récupérer les dernières modifications :
    ```bash
    git pull origin main
    ```
12. Fusionner une branche :
    ```bash
    git merge nom-branche
    ```

<p align="center">
<img src="https://github.com/Eulsi/Basic-gitGithub-manip-pour-TSSR/blob/main/imgGuide/git-workflow1.png" alt="Pictures" width="800" >
</p>


 <br>
    
 # Avantages utiliser Git/Github (sous entendu le logiciel + la concertation fréquente entre collègues) : 
 
 <br>

* Impossible de perdre le travail de quelqu'un, il y aura toujours une trace
* Le dépôt commun centralise toutes les dernières modifications et fichiers.
* Les gens peuvent bosser sur le même fichier simultanément. Qu'ils soient sur la même branche ou sur deux branches différentes, s'ils se sont compris, il suffit de fusionner (merge) à la fin leur deux versions du même fichier. Mieux ils se sont compris, moins il y aura de conflit. --> gain de temps. C'est LE principe originel de l'outil. Deux collègues ne sont pas obligés d'attendre que l'un ait terminé de travailler sur telle partie pour que l'autre implémente une nouvelle idée dans le même code.
* Si par ailleurs les nouvelles implémentations ne sont finalement pas désirées, ou trop bordélique, ou trop d'erreurs, il est possible de décider de revenir à une version précédente du projet, de la branche ou du commit.
* Qu'on choisisse de travailler en parallèle (différentes branches) ou simultanément sur le même fichier, tout le monde se sent efficace.

<br>

# Pourquoi l'utiliser depuis le terminal ?

<br>

* S'habituer à écrire les commandes permet à la longue de mieux retenir et comprendre ce qu'il se passe dans le versionning.
* Controler ce qu'on fait. Les GUI ne sont pas tous pareils, ils peuvent évoluer, et les actions peuvent sembler moins transparentes.
* Les manip peuvent être plus fine, git propose une quantité de commandes qui dépassent son utilisation basique
* Peut être beaucoup plus rapide à la longue, côté performance machine, mais côté humain également. Certains se créent des alias pour combiner des commandes complexes (on sort du git basique), ou des scripts leur permettant de raccourcir les manip.
* Les lignes de commandes ne changent pas ou très peu avec le temps. (exemple git checkout est devenu git switch, mais checkout fonctionne toujours).
* ! Github reste très pratique pour la partie sociale du code, les *Pull Request*, et la gestion des conflits.

<br>

# Pourquoi utiliser VS code ? (Ou un autre IDE)

<br>

* Très pratique pour gérer les conflits (VS code vous propose des choix de correction en cas de conflits)
* L'intégration de git dans VS code est stable et poussée
* Permet de visualiser directement le terminal, ce qu'on importe (*git pull*), ou ce qui sera "exporté" ou non (*git push* avec .gitignore). On a aussi une vue sur l'arborescence des dossiers de l'espace de travail
* Pour faire du code review, et discuter de vos conflits ou erreurs rencontrées, VS code propose "Live share" permettant à plusieurs utilisateurs de débugger ensemble la même feuille.
* Quantité d'autres plugin à installer offrant des visuels sur l'évolution des branches, des commits etc... 

<br>

## EN COURS : Quelques spécificités :

<br>

* utiliser depuis VS code
* gérer dossier dans le dépot local
* revert à partir d'un commit précédent

    
    <br>

# Ressources
    
* apprendre à manipuler les branches avec git : https://learngitbranching.js.org
    
g Basic-gitGithub-manip-pour-TSSR.md…]()

 * #### 2.3 Git-Hub
    * #### 2.3.1 Clé SSH
![ssh git hub 1](https://github.com/user-attachments/assets/ed18b230-3595-4084-a405-42731a1b3c86)
![ssh git hub 2](https://github.com/user-attachments/assets/76963e14-2f63-474b-9ee0-379f76066134)

   ![sd](https://github.com/user-attachments/assets/7287fcac-a5d0-4d43-a338-30fb3da71ecc)

#### 3) Réseau :
 * #### 3.1 Principes des réseaux :  
    * #### 3.1.1 Introduction.
 ###### Un **réseau** est un **ensemble d’éléments reliés** les uns aux autres et entre lesquels** circulent des informations**
###### Il est constitué :
###### - De **supports physiques** (câbles) - médium
###### - **D'équipements d'interconnexion**
###### - **D'hôtes** - les ordinateurs qui profitent des services du réseau
#### Différents selon la taille et la portée:
##### - Le PAN (Personal Area Network) → échelle d'une personne
##### - Le LAN (Local Area Network) → échelle d'un bâtiment
##### - Le MAN (Metropolitan Area Network) → échelle d'une ville
##### - Le WAN (Wide Area Network) → échelle pays/continent
##### - Le GAN (Global Area Network) →  échelle mondial
#####  Pour transporter l'information, découpage de l'information, et du réseau via le principe de datagramme et le routage.

 * #### 3.1.2 protocole réseau.
     ##### Définitions: Un protocole réseau est mis œuvre sur un réseau informatique ou un réseau de télécommunication. Ensemble des règles que doivent suivre tous les équipements pour pouvoir communiquer.L'idée est qu'un premier service soit appuyé sur un autre lui même appuyé sur un autre, lé découpage de problémes complexs facilite leurs resolutions.
   
  * #### 3.1.3 Modéle en couche.
    ##### Pour pallier au différents probléme lié au transport d'information et de donnée, nous avons recourt à l'encapsulation.
    ##### L'idée est qu'un premier service soit appuyé sur un autre lui même appuyé sur un autre, le découpage de problémes complexs facilite leurs resolutions.
    * #### 3.1.4 Modèle OSI.

    ##### Le **Modèle OSI** est une norme de communication elle se décompose de la manière suivante:
    ![image](https://btssio-ccicampus-strasbourg.fr/wp-content/uploads/2022/06/OSI.png)
    ![image](https://doknet.fr/wp-content/uploads/2023/11/diagramme-osi-1024x751.png)
   * #### 3.1.5 Modèle **TCP\IP.**
   ##### Le modéle TCP\IP Interconnexion de réseaux physiques, création de réseaux logiques pouvant communiquer, bien qu'étant sur des réseaux physiques différents par des passerelles.
![image](https://upload.wikimedia.org/wikipedia/commons/e/e4/TCPIP_couche_ISO_modele_OSI.png)
   * #### 3.1.6 Matériel d'interconnection.
     * ##### Répéteur
     * ##### Hub 
     * ##### Bridge (pont)
     * ##### Switch (commutateur)
     * ##### Routeur
     * ##### Gateway (passerelle)
![image](https://user.oc-static.com/upload/2021/06/01/16225671036921_P2C5-2.png)
![er](https://github.com/user-attachments/assets/122a5826-015b-4028-bba0-d617d350b21b)

* #### 3.2 Ethernet :
 
  * #### 3.2.1 Normes et Architecture.
      ##### Résumé des norme :
    * ##### Ethernet est un protocole de communication utilisé pour les réseaux informatiques, exploitant la commutation de paquets. 
    * ##### [IEEE 802](https://fr.wikipedia.org/wiki/IEEE_802#:~:text=IEEE%20802%20est%20un%20comit%C3%A9,liaisons%20filaires%20ou%20sans%20fil.) : Overview & Architecture
    * ##### [IEEE 802.1](https://fr.wikipedia.org/wiki/IEEE_802.1): Bridging & Management
    * ##### [IEEE 802.2](https://fr.wikipedia.org/wiki/IEEE_802#:~:text=IEEE%20802%20est%20un%20comit%C3%A9,liaisons%20filaires%20ou%20sans%20fil.): Logical Link Control (la couche LLC commune)
    * ##### [IEEE 802.3](https://fr.wikipedia.org/wiki/IEEE_802.3#:~:text=IEEE%20802.3%20est%20une%20norme,sous%20le%20nom%20d'Ethernet.) Ethernet
    * ##### [IEEE 802.11](https://fr.wikipedia.org/wiki/IEEE_802.11): Wireless LAN (WiFi)
    * ##### [IEEE 802.15](https://fr.wikipedia.org/wiki/IEEE_802.15.4): Wireless PAN (bluetooth)
    * ##### [IEEE 802.16](https://fr.wikipedia.org/wiki/IEEE_802.16#:~:text=IEEE%20802.16%20est%20un%20groupe,la%20promotion%20de%20ce%20standard.): Broadband Wireless MAN (WiMAX)
       ##### différentes normes :PHY, MAC, IEEE
   * #### 3.2.2 Cablage et équipement.

     * ##### Cable ethernet avec connecteurs RJ45 ( droit ou croisée)
     * ##### Fibre optique (MMF -- ou SMF ++)
     * ##### Carte Réseau 
     * ##### Emetteur-recepteurs (GBIC,SFP,QSFP,CFP,XFP)
     * ##### Switch(commutateurs)
 
   * #### 3.2.3 Adresse **Mac.**
     ##### Permet de connaitre l'hôtes et le destinataire. Cencées être unique
     ##### **Format :** En 48 bits (6 octets) noté en Héxa
    ![image](https://upload.wikimedia.org/wikipedia/commons/9/94/MAC-48_Address.svg)

   * #### 3.2.4 Trame **ethernet.**
  ##### La [trame](https://fr.slideshare.net/slideshow/les-trames-reseaux-22965265/22965265) ethernet est constituée des éléments suivants:
  #####  Un début de trame (ou **préambule**)
  ##### **Un MAC header** (entête de liaison):
  ##### **Adresse MAC** de destination
  ##### **Adresse MAC** source
  ##### **EtherType** (type de contenu)
  ##### Le **Payload**: les données à transporter
  ##### **FCS**
![image](https://d33wubrfki0l68.cloudfront.net/08c7cec779cc2f558eed99e35cdbb76dcfde07f4/61ddf/assets/images/ccna/lucidchart/0fbb202c-c343-4c90-be0f-384448c27f24.png)
![trame](https://github.com/user-attachments/assets/157a8198-c807-4435-bda4-3450f8d234d5)

   * #### 3.2.5 Protocole **CSMA/CD**.
   ##### Permet la bonne gestion du trafic et la transmition de données
   ##### **CS** (Carrier Sense) ⇒ Écoute de la porteuse
   ##### **MA** (Multiple Access) ⇒ Accès multiple
   ##### **Principes :**
##### **1** Trame prête à être transmise
##### **2** Si le support physique n'est pas libre, attendre jusqu'à ce qu'il le devienne puis attendre la durée du gap inter-trame
##### **3** Envoyer la trame
##### **4** Si une collision est détectée (décalage de tension continue sur le câble) → procédure de gestion des collisions
  ##### CD (Collision Detection)
#####   **1** Arrêt des envois de trame
#####   **2** Envoi d’un signal de collision (jam signal = séquence de 4 à 6 octets).
 ##### **3** Temps d’attente aléatoire
#####   **4** Reprise de la CSMA
##### Si le nombre maximal de transmissions (16) est atteint, la transmission est annulée.
##### **5** Sinon → transmission réussie
   ![image](https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEig6GVhhstxSls2GVXUH5FZ_Kfpe8rRRVs6SrgN3N5uJPeNH4yO_ii3AlWxqQ5R1tONQ2ea4rcCfLCDnQWq1IYWgh9e1-iWQRioubSegiBciS7ak4R4yf5Qak76jjtZTCcYDi5T-xf_qNJo/s1600/algorigrammeCSMACD.png)
   * #### 3.2.6 Les VLAN.
##### Les VLAN (Virtual LAN) permettent de segmenter un réseau ethernet et il ajoute un entête de 4 octets après l'entête ethernet :
![vlan](https://github.com/user-attachments/assets/b0203650-79eb-4d72-a942-ad3db0f23e9e)
 ![IPV4](https://github.com/user-attachments/assets/9361c1e7-8c54-4ac7-9bd1-06026719c007)
  
* #### 3.3 IPv4.
  * #### 3.3.1 Protocole et Définitions.
   #####  Le protocol **IP** (Internet Protocol) codée sur **32 bits** permet l'interconnection de réseaux physiques, selon le standard [IETF](https://fr.wikipedia.org/wiki/Internet_Engineering_Task_Force), **couche 3** et compte actuellement 2 versions,la 4 et la 6. Le protocole **distingue les liens**, les **réseaux** et les **interfaces des réseaux.**
  ##### Le protocole n'a **pas de coordinateur global** => **pas de configuration globale**
  ##### Chaque interface dispose de **sa propre configuration locale**, donc de sa **propre vision des réseaux logiques**, pour pouvoir communiquer, ces configurations doivent être compatibles.
   * #### 3.3.2 Les Adresses.
     * #### 3.3.2.1 Définitions. 
       * #####  L'adresse est donc codée sur 32 bits (4 octets), comporte deux partie ID réseau et l'ID hôtes => sur 32 bits => n bits(id réseau) et 32-n bits
       * ##### Chaque octet est converti en base 10 => 4 octets => 4 nombres
       * ##### Chaque adresses à des plages réservées : la première adresse => **l'adresse réseau** et la dernière adresse => **adresse de diffusion (broadcast)**
       * #####  Utilisation de masque de sous réseau qui corespond au CIDR
       * ##### Calcule nombre hôte: 32((ipv4))-21 CIDR  ==> 2^11=2048-2  ((Broadcast et reseau)).

     * #### 3.3.2.2 CIDR.
     ##### Le routage (CIDR) est une méthode d'attribution d'adresses IP qui améliore l'efficacité du routage des données sur Internet.
     ##### Table de calcule:
    ![image](https://www.it-connect.fr/wp-content-itc/uploads/2021/05/reseau-adresse-ipv4-calcul-masque-sous-reseau-01.png)
     * #### 3.3.2.3 Adresse réservées.
       * ##### Adresses réservées pour les réseaux privés RFC [1918](https://datatracker.ietf.org/doc/html/rfc1918)
         * ##### 10.0.0.0/8
         * ##### 172.16.0.0/12 (172.16.0.0 - 172.31.255.255)
         * ##### 192.168.0.0/16
       * ##### Adresses de bouclage (localhost) : 127.0.0.0/8
       * ##### Adresse du réseau actuel (si inconnu) : 0.0.0.0/8
       * ##### Adresses multicast : 224.0.0.0/4
       * ##### Adresse de diffusion (locale !) sur réseau inconnu : 255.255.255.255/32
     * #### 3.3.2.4 Les Masques.
     * #### 3.3.2.5 Calculs.

  * #### 3.3.4 Les paquets :
  ##### IP découpe l'information qu'il doit transmettre, reçu de la couche supérieure (Protocole de couche 4 : TCP, UDP…) => Pour transmission au lien (Protocole de couche 1&2 : Ethernet).Chaque paquet comporte un entête.
#### **Voici la décoposition de l'entête :**
![1](https://github.com/user-attachments/assets/7d2cd000-53c1-4ab4-ae5e-d13c1691c46b)


![2](https://github.com/user-attachments/assets/9f2caeec-5790-4ce0-84f9-1e688697c11c)


![3](https://github.com/user-attachments/assets/a5a0a259-53a0-409f-a0ad-0fd4f2a6d4a3)


![4](https://github.com/user-attachments/assets/802276c8-7c22-43c3-83ac-fe32fd6c55b2)
![5](https://github.com/user-attachments/assets/821d44a1-8276-44c6-8c75-de959720ae7b)
![6](https://github.com/user-attachments/assets/6578cdec-f721-490f-a37f-9d43ebf28127)
##### Le champs protocol contient le numéro du protocole encapsulé, voir [liste](https://fr.wikipedia.org/wiki/Protocole_r%C3%A9seau).

##### Quand le paquet IP doit être transmis dans la trame sous-jacent, le plus la trame ainsi que son MTU sont inférieur

##### Liste des [protocoles](https://en.wikipedia.org/wiki/List_of_IP_protocol_numbers) IPv4.

 * #### 3.3.5 Les Protocoles connexes :
##### Protocoles servant au bon fontionnement de l'ip: ICMP et ARP
##### **ICMP** Protocole de niveau 3 **controle les erreurs de transmitions**
![7](https://github.com/user-attachments/assets/8126582a-2c8c-4227-be4b-eaf301f2d299)

##### **ARP** Protocole **d'association** de l'adresse **IP** et de l'adresse **MAC**
![arp](https://github.com/user-attachments/assets/09805071-bd7d-43f4-8d5b-51537b848072)
* ####  
![IPV6](https://github.com/user-attachments/assets/04229f6c-a78a-45f5-b4c9-8d14c65b5bfa)

* #### 3.4 IPv6
  * #### 3.4.1 Objectifs.
  ##### Ce protocole de v6 à pour but de:
    * ##### Etendre les capacités d'adressage (lutter contre la pénurie de v4).
    * ##### Simplification des entêtes (par rapport à v4).
    * ##### Automatiser la configuration.
    * ##### Authentification et confidentialité
    * ##### Supprimer/diminuer la fragmentation
  * #### 3.4.2 Définition + Notions
  ##### Une adresse IPv6 est sur 128 bits (IPv4 32 bits), en héxadécimal, il existe 3 catégories :
    * ##### Unicast (une interface)
    ![unicast](https://github.com/user-attachments/assets/683d205d-09bf-4590-83ca-5da2fa14e18b)

    * #####  Multicast : adresses de diffusion (un groupe)
    ![multicast](https://github.com/user-attachments/assets/6b7cc955-27e7-421b-9fab-01319e446623)

    * ##### Anycast : adresse de groupe (un parmi le groupe)
![anycast](https://github.com/user-attachments/assets/6c4da70e-1def-492f-b2eb-12c421ad6e33)
    
 ##### (Disparition des broadcasts) 
##### L'adresse IPv6  se compose de 8 groupes de 16 bits séparés par :
##### 🔷
Simplification : 2001:0db8:0000:85a3:0000:0000:ac1f:8001 ==> 2001:db8:0:85a3::ac1f:8001
##### 🔷Tout comme IPv4, IPv6 se compose d'un netID et d'un hostID, en fonction du CIDR.
##### * IPv6 comprend aussi des adresses particulières :
 * #####  **::1** => Boucle locale (loopback) Equivalent à 127.0.0.1 en IPv4, utilisée pour des tests et des services locaux sur la même machine
 * ##### **::** => Adresse indéfinie, Equivalent à 0.0.0.0 en IPv4, utilisée pour signifier qu'une adresse n'est pas spécifiée.
 * ##### **ff00::/8** => Adresses multicast, utilisées pour communiquer avec plusieurs hôtes en une seule transmission, utilisées dans le routage, la découverte de voisins, etc
 * ##### **fe80::/64** => Adresses unicast lien local, adressage propre à un réseau physique, communication avec les interfaces du même lien et passage routeur impossible, configuration manuelle ou automatique (en général automatique) 
 * ##### **fc00::/7** => Adresses unicast locales uniques (RFC 4193) Réservées à des usages privés (réseaux internes), similaire aux adresses privées IPv4, non routable sur internet, facilement identifiable, globalemùùent unique, elle permet l'interconnection de site, pas de conflits si routage par erreur
    
![unicast local](https://github.com/user-attachments/assets/e8387d59-e025-43b5-83aa-f34bb930961c)
 * ##### **reste** => Adresses unicast globales (Internet/publiques)
  ##### SYNTHESE :
  ![sd](https://github.com/user-attachments/assets/362e2508-4086-4e28-b218-faf166ddfadc)

  
  * #### 3.4.3 Autoconfiguration
  ##### C'est un des avantage de IPv6, une machine est capable d’obtenir automatiquement une adresse sans avoir besoin d’une configuration manuelle ou d’un serveur. Il existe 2 méthodes avec et sans état. 
##### :large_blue_diamond:  Sans état est un mixe entre le préfixe réseau et de son identifiant d’interface. Le préfixe réseau est la partie de l’adresse qui identifie le segment de réseau et est généralement annoncée par un routeur. L’identificateur d’interface est la partie de l’adresse qui identifie le périphérique et est généralement dérivé de son adresse MAC
##### :large_blue_diamond: avec état via un DHCPv6
  * #### 3.4.4 Entêtes
  ![ENTËTE IPv6](https://github.com/user-attachments/assets/4c3d9910-2784-4cd6-9483-cb091f7716a1)
##### La fragmentation devient optionnelle, en utilisant le PMUTUd, le paquet est rejeté jusqu'à que l'emméteur adapte la taille du paquet.
  * #### 3.4.5 Protocoles associés.
![icmpv6](https://github.com/user-attachments/assets/3f4cd98a-23eb-40f5-90f6-6ec37d51faa6)
![dhcpv6](https://github.com/user-attachments/assets/3436e1f6-e2ab-4dee-891a-f22b23584e7d)
 ##### IPSEC : IPv6 amène des protocoles optionnels pour sécuriser les communications au niveau IP : IPsec. Authentification, contrôle d'intégrité et confidentialité cryptographique, avec protocole AH, ESP, IKE…

![DHCP](https://github.com/user-attachments/assets/de1739a8-3a84-4ef3-b094-dbe0ff6831b3)

* #### 3.5 DHCP.
  * #### 3.5.1 Principes
  ##### Gestion dynamique de l'adressage IP des hôtes du réseau. Utilisation Messages UDP - Port serveur 67 / Port client 68
 ##### **Les messages:**
##### **DHCPDISCOVER (Client -> broadcast) : demande d'adresse**
##### **DHCPOFFER (Serveur -> Client) : proposition d'adresse**
##### **DHCPREQUEST (Client -> Serveur) : demande de réservation d'une adresse**
##### **DHCPACK (Serveur -> Client) : acceptation avec envoi paramétrage**
##### DHCPNACK (Serveur -> Client) : refus de réservation
##### DHCPDECLINE (Client -> Serveur) : après DHCPACK le client doit vérifier (par exemple via ARP) si l'adresse est déjà utilisée, si oui il décline l'offre du serveur
##### DHCPRELEASE (Client -> Serveur) : résiliation du bail par le client
##### DHCPINFORM (Client -> Serveur) : demande de paramètre de configuration sans réservation d'adresse (client ayant déjà une adresse)
  * #### 3.5.2 Mise en oeuvre
>[!NOTE]
>     * #### 3.5.2.1 Débian 12
> ##### passer en root
> ##### télécharger le packet
>	apt-get install isc-dhcp-server
> ##### passer en réseau interne
> ##### renomer la machine
>	nano /etc/hosts
>	srv-dhcp
>	nano /etc/hostname
>	srv-dhcp
> ##### reboot
>	reboot
> ##### passer en root
> ##### configurer le serveur
>	nano /etc/network/interfaces
>	adress 172.20.0.2
>	netmask 255.255.255.0
> ##### commenter la ligne IPv6
>	#iface enp0s3 inet6 auto
> ##### reboot interface
>	ifdown enp0s3
	ifup enp0s3
>##### Configurer le serveur DHCP
>	nano /etc/default/isc-dhcp_server
>		
>		host [PC NAME] [ADRESS MAC] {
>			hardware ethernet [ADRESS MAC]
>			fixed-adress [IP] }
>##### reboot DHCP
>	systemctl resart isc-dhcp-server.service
>##### chek le statut
>	systemctl status isc-dhcp-server.service
>###### [vidéo](https://www.youtube.com/watch?v=hdaHQR-7uAM&ab_channel=AlexDavantTech)
________________________________________________
* #### 3.5.2.2 Windows 22 
>[!NOTE]
>* #### Instalation DHCP
>* ##### Au sein du **Serveur manager**, cliquez sur **Manage** et **add roles and feature** .
>  * ##### Choisissez l'option **Role-based or feature-based instalation** et poursuivez.
>  * #####   Continuez, le serveur est déjà selectioné.
>  * ##### Dans la liste cochez "DHCP server" et dans la fenétre **include management tools**.Cliquez sur **Add Features**
>  * ##### Cliquez sur **Install**
> * #### **Configuration** du serveur DHCP :
> * ##### Ouvrir **Administrativ Tools**
> * ##### Clic droit sur **IPv4**, choisir **New Scope**
> * ##### Rentrer la plage d'adresse IP et le masque de sous réseau ici : **start** 172.20.0.100 / **end** 172.20.0.200 / **length** 24 / **subnet mask** 255.255.255.0
> * ##### Dans Router rentrer un IP éloigné de la plage pour plus de visibilité là 172.20.0.254
> * ##### Faire **next** jusqu'à la page suivante : **Configure DHCP Options** : cocher **Yes, i want to configure these options now** 
> * ##### On peux ne pas remplir les Options **Router et DNS** car nous ne sortirons pas du réseau privé.
> *  #### **Machine cliens :**
>   * ##### Ouvrir Powershell : **ipconfig**, pour vérifier l'adresse ip, si elle ne corespond pas à la plage définie **ipconfig /renew**
>   * ##### Si le problème persiste, dans la fenétre de configuration du serveur DHCP, dérouler IPv4 et regarder dans **Scope [172.20.0.0]**, l'option **Activate/Desactivate** est bien sur **Activate**.
> * #### Créer une **Réservation** :
>   *  ##### Clic droit sur réservation **New Reservation...**, rentrer l'IP **172.20.0.10** de réservation, le nom du clients et l'adresse MAC (du clients) choisir **DHCP**, puis **add**.
>   *  ##### Chez le client, **ipconfig /renew**==> TADDAAAAAA!!
![Le routage](https://github.com/user-attachments/assets/1fa23eda-1740-4a3a-8743-ed35ff72fedf)


* #### 3.6 Le routage :
  * #### 3.6.1 Définition et notions. 
    ##### Le routage est in protocole d'interconection de réseau, en effet les noeuds d'un même réseau IP (logique) doivent être sur le même lien (réseau physique), des chemins sont sélectionnés dans un réseau pour acheminer les données d'un expéditeur jusqu'à un ou plusieurs destinataires.
  * #### 3.6.2 Mécaniques.
     #####  Chaque routeur possède des informations sur son voisinage. Chaque routeur maintient une liste des réseaux connus, chacun de ces réseaux étant associé à un ou plusieurs routeurs voisins à qui le message peut être passé.
     #####  Si on veux envoyer sur une interface d'un même réseau, le paquet est directement envoyé sur l'interface physique corespondant à l'IP de destination, le routage interviens quand les machines ne sont pas sur le même réseau, en effet on encapsule donc le paquet IP dans une trame [ethernet](https://github.com/NALSED/R-vision/blob/main/Fichier%20de%20r%C3%A9vision.md#324-trame-ethernet-1), mais si la destrination ne fait pas partie du même réseau que l'hôte il fera appel à ça table de routage.
     #####
  * #### 3.6.3 Tables de routages.
   ##### -Définitions- :
   ##### Chaque noeud d'un réseau IP (routeur ou pas) dispose d'une table de routage,chaque entrée de cette table est composée (au moins) :
   ##### 1° **Une destination** (adresse de réseau et masque)
   #####  2° **Saut suivant** (next hop) : l'adresse de la passerelle pour y aller (un autre noeud ou directement l'hôte) 
    ##### (Note : en IPv6, on utilise les adresses lien local des routeurs/passerelles)
   #####  3° (Eventuellement on peut y trouver aussi :) L'interface associée : celle par laquelle ce noeud peut joindre lapasserelle, une métrique : une mesure de la qualité de cette route (moins = mieux), parfois d'autres choses (comme le protocole utilisé).
##### :large_blue_diamond: Le routeur reçoit donc une trame, l'ethertype ( qui contetient le protocole à appliquer sur le prochain noeud) ici IP, si on était dans le cas d'un hôte classique du réseau => on jette le paquet
##### Mais ce noeud est un routeur, donc il doit transmettre le paquet => Il procède à la même mécanique d'envoi de paquet IP.
##### :large_blue_diamond: Il est posible sur de très grand réseau d'utiliser der sur-réseaux comme préfixe de routage en agglomérant, quand c'est possible, plusieurs adresses de réseau en une seule, plus les réseaux sont grands plus la table de routage est petite.
##### Pour des réseaux de grande envergure, il est nécessaire de passer à du routage dynamique et de déployer des protocoles dédiées comme OSPF et BGP.
   * #### 3.6.4 Routage dynamique
##### -Définitions- : 
##### Le routage dynamique est utilisé sur de grand réseau, étant amené à des modifications constantes, les routeur communique entre eux et échange sur leurs table de routages pour s'addapter aux modifications, aux pannes ou aux coupures.
   * #### 3.6.4.1 Protocoles dynamiques
![wdfg](https://github.com/user-attachments/assets/3bfa004d-7e7b-4d6d-834e-e557d010c07f)
 ##### :large_blue_diamond: RIP (Routing Information Protocol) port ⇒ UDP 520. Pour de petit réseau, limite de 15 sauts.
##### :large_blue_diamond: EIGRP (Enhanced Interior Gateway Routing Protocol) port ⇒ 88 Protocole conçu par Cisco pour ses matériels utilisé dans les réseaux complexes.Convergence rapide, prend en charge plusieurs protocoles de couche réseau.
##### :large_blue_diamond: OSPF (Open Shortest Path First) port ⇒ 89 Principalement utilisé dans les réseaux de tailles moyenne.
##### :large_blue_diamond: BGP (Border Gateway Protocol) port ⇒ TCP 179 Ce protocole est utilisé pour le routage sur internet entre les différents systèmes autonomes. Il est utilisé pour l'échange d'informations de routage entre différents ISP (Internet Service Provider)
  * #### 3.6.4.2 [Protocoles de transport](https://www.it-connect.fr/les-protocoles-tcp-et-udp-pour-les-debutants/)
     * #### 3.6.4.3.1 UDP
       ##### -Définitions- :
       ##### UDP - User Datagram Protocol port ⇒ 17
       ##### Conçu comme un protocol minimal, Permet la communication entre processus (application), il est supporté par IPv4 et IPv6. Permet d'identifier certaines erreurs de transmission, contrôle de la taille, vérification de la Checksum.UDP est notâment utilisé pour le streaming. Mais il n'assure pas la fibilité , si les contrôles échouent le datagramme est jeté par le destinataire.
       ##### -DATAGRAMME UDP- :
       ![edf](https://github.com/user-attachments/assets/4d895bad-2b8e-434d-891e-187a94d11aa9)

       * #### 3.6.4.3.2 TCP
        ##### -Définitions- :
       ##### TCP - Transmission Control Protocol port ⇒ 6
       ##### Protocole fiable, est un flux en mode connecté il établi une connexion bi-directionnelle et garantie du séquencement (ordre), les paquets sont vérrifier pour voir si il ne sont pas corompus, si c'est le cas le paquet est renvoyé, cherche à optimiser l'utilisation du réseau(congestion du réseau).
       ##### Déroulé d'un envoi TCP :
        ##### 1) Transmission de segments TCP : TCP découpe le PDU en segments, chaque segment est associé à un numéro de séquence par la source
        ##### 2) À l'émission d'un segment => démarrage d'un compte à rebours pour ce numéro de séquence
        ##### 3) Envoi d'un acquittement par le destinataire à réception
        ##### 4) À réception de l'acquittement par la source => suppression du segment et du compte à rebours
        ##### 5) À la fin d'un compte à rebours
       ##### 6) OU => ré-émission du segment
     ##### -ENTETE TCP- :
       ![sddv](https://github.com/user-attachments/assets/898df453-1def-4df6-b5f2-67ac38afc47c)
     ##### -SEGMENT TCP- :
    ![sertg](https://github.com/user-attachments/assets/a1c7db57-269f-41c6-9cbb-3b93a6781700)
  ##### Voici quelques protocoles utilisant TCP:
  * ##### HTTP HTTPS.
  * ##### SMTP envoyer des mail.
  * ##### NFS transferts de donnés + UNIX.
  * ##### SMB transfert de donnés + WIN.
  * ##### SSH Telnet gestion à distance des équipements.
  * ##### RDP administration via bureau à distance.
  * ##### LDAP intéroge l'AD.
##### Principe de connection et fin de connection
![1](https://github.com/user-attachments/assets/edcf330a-79b6-4f37-baf3-6f1bba4d245d)
![2](https://github.com/user-attachments/assets/528629b8-f626-4ad3-92db-c83127d76b5d)
##### TCP n'attend pas pour émettre cela nuit trop au débit, mais IP ne garenti pas l'ordre des paquets, donc utilisation de La fenêtre TCP (champs Window) sert au destinataire à indiquer combien d'octets il est prêt à recevoir.
#####  Réserver de la mémoire pour stocker les segments en attente.
##### Remettre les segments dans l'ordre une fois l'ensemble reçu.

 * #### 3.6.4.3 Les ports(Liens du sites avec tous les ports + les principaux)
   ##### Un port est un identifiant de processus au sein d'une interface
   ##### Une communication est donc caractérisée par :
     - ##### un couple adresse IP/port de destination.
     - ##### un couple adresse IP/port source.
##### De la même façon qu'il ne peut pas y avoir 2 adresses identiques sur un réseau, il ne peut pas y avoir 2 ports identiques sur une même adresse
##### Les ports sont codés sur 16 bits (de 0 à 65535)
* #####  On distingue 3 plages [liste exaustive](https://www.frameip.com/liste-des-ports-tcp-udp/):
##### :large_blue_diamond: 0 à 1023 : Les ports systèmes (Well Known Ports) - Serveur
##### :large_blue_diamond: 1024 à 49151 : les ports utilisateurs (Registered Ports) - Serveur
##### :large_blue_diamond: 49152 à 65535 : les ports dynamiques (Ephemeral Ports) - Client
 
* #### 3.6.5 [NAT](https://www.it-connect.fr/le-nat-et-le-pat-pour-les-debutants/)
 ##### -Définitions- :
 ##### Network Address Translation
 ##### Le NAT permettent à un routeur de modifier les paquets IP au moment de leur transmission. Ils visent à remplacer une adresse IP (source ou destination) par une autre pour substituer à une adresse valable sur le réseau interne (privée) une autre adresse valable sur un autre réseau (par exemple publique sur Internet).Historiquement, NAT était utilisé pour cacher son plan d'adressage interne. Maintenant il est massivement utiliser pour combler la pénurie d'IPv4.
   * #### 3.6.5.1 Basic NAT
     ##### Dans sa version la plus simple, dite Basic NAT, on configure le routeur qui fait la passerelle entre un réseau interne et un réseau externe (Internet, réseau d'une autre structure, etc…), puis on choisi un ensemble d'adresses IP valables sur le réseau externe. Sur le routeur, on associe à chacune d'elles, l'adresse d'une machine interne devant communiquer avec l'extérieur.
     ##### La table de routage peut-être configurée à la main (NAT statique) ou remplie dynamiquement (cas général)
   ##### Pour héberger un serveur derrière un NAT, il faut mettre en place une correspondance statique, ce genre de correspondance est souvent appelée port forwarding. Elle consiste à déclarer un port sur le routeur NAT et à lui associer une adresse interne (et éventuellement un port).
   ##### large_red_diamond: Limite : dans le cas de plusieurs serveurs pour le même service, seul un d'entre euxpourra utiliser le port standard
##### L'utilisation de NAT implique qu'une adresse IP est utilisée par plusieurs interfaces de
manière transparente

 ##### large_blue_diamond: Exemple :
  ##### avec un routeur adresse publique 203.1.113.123
* ##### La machine interne (10.0.0.1) accède à Odyssey (216.58.214.83)
* #####  Communication HTTPS, donc port Serveur = 443 et port client dynamique (ex : 52369)
* #####  Requête de 10.0.0.1:52369 (port) vers 216.58.214.83:443
* #####  Le routeur note dans sa table int <- ext : 10.0.0.1:52369 <- 216.58.214.83:443
* #####  Requête transmise par le routeur de 203.1.113.123:52369 -> 216.58.214.83:443 ==== > Odyssey (216.58.214.83) reçoit une requête de 203.1.113.123 et réponds
* #####  Réponse de 216.58.214.83:443 -> 203.1.113.123:52369
* #####  Le routeur reçoit cette réponse pour lui MAIS, il fait du NAT donc
* #####  Le routeur cherche dans sa table une correspondance pour le port 52369 : 10.0.0.1
* #####  Il transmet donc sur le réseau interne le paquet en remplaçant l'adresse dedestination (la sienne) par 10.0.0.1
   * #### 3.6.5. NAPT
   ##### Utilisé quand il y à moins d'adresse privé que d'adresse publiques, exemple box inernet. Ne pas considérer juste l'adresse comme identifiant mais le couple adresse IP/port (couche 4).
  ##### Le NAPT dynamique a de nombreux inconvénients :
- ##### La table étant remplie lors de la requête de l'intérieur vers l'extérieur
- ##### Le client doit être derrière le NAT
- ##### Impossible d'avoir un serveur interne
- ##### Le paquet IP ET le protocole de niveau 4 sont modifiés
- ##### Lourd: nécessite un recalcul des checksum
- ##### Pas possible avec tous les protocoles de couche 4
- ##### Incompatible avec certains protocoles (Ex : FTP actif, voir site malekal)
- ##### Incompatible avec certains contrôle d'intégrité
* #### 3.7 Active Directory
  * #### 3.7.1 Créer un ADDS
### Mise en place d'un ADDS

1) ##### **INSTALATION DU SERVEUR ADDS**
* ##### Au sein du **Serveur manager**, cliquez sur **Manage** et **add roles and feature** .
  * ##### Choisissez l'option **Role-based or feature-based instalation** et poursuivez.
  * ##### Choisir Active Directory Domain Services
  * ##### Continuer l'installation, puis cliquer  sur **Add Features**
*********************************************************************************************************
2) ##### **CONFIGURATION DU SERVEUR ADDS**
   * ##### Procéder à l'installation, à la fin cliquer sur **Promote this server to a domain controller**
![adds1](https://github.com/user-attachments/assets/bc78a096-f64c-4ee1-bed9-d854ebe4b2f9)
 * ##### cocher Add new forest et Root domain name
![adds 2](https://github.com/user-attachments/assets/264e92a0-3881-4c32-b772-0fa2c0cbc31c)
* ##### renseigner le niveau de windows suporté **Forest functional level** et dans **Domain functional level**
* ##### entrer des **Password**  
* ##### Ne pas cocher Create DNS delegation
* ##### Renseigner **The NetBIOS domain name**
* ##### Laisser par défaut : "Database folder" Log files folder" "SYSVOL folder".
* ##### Un récapitulatif résume la configuration, faire next.
* ##### après une vérification le résultat :
 ![adds 4](https://github.com/user-attachments/assets/48233b21-c883-4eeb-b95a-8b5e209e27ec)
 * ##### **Install**
 * ##### L'opération peux durer et un redémarage est nécéssaire.
 *  #### Au redémmarage la **connection** se fait avec **DOMAINE** créer précédement et via le **Password** de A dministrator
![adds5](https://github.com/user-attachments/assets/1e75b322-17d4-4822-a698-2cbf8d84b234)


3) ##### création d'un Domain
* #####  Dans tool choisir Active directory Users and Computers
* ![adds 6](https://github.com/user-attachments/assets/d79a9043-5a3f-4cc4-857c-22090f87a46f)
* ##### Dans domain.local = > New => Organisations Unit
  ![adds 7](https://github.com/user-attachments/assets/06c7a72c-83dc-401a-80da-4213132ed2e8)
* ##### Donner un nom à ce domain puis créer un nouvel **User**
![adds8](https://github.com/user-attachments/assets/7dae6664-d50a-4b8f-b1df-66b5b23f82be)
* ##### Le renseigner 
![adds 9](https://github.com/user-attachments/assets/0378aca1-178e-426b-8f18-6f65bd5dc731)

  * #### 3.7.2 GPO
  #### :arrow_forward: GPO Général
 ##### Se rendre sur cette page : 
![vm 1](https://github.com/user-attachments/assets/bef961d1-2071-4962-8134-48523ada8f20)
##### :arrow_up: => Group Policy Management.
##### Sur la page Group Policy Management : 
![vm 1](https://github.com/user-attachments/assets/7bc1754a-5761-4ce7-aa4f-3f227f49edf6)
##### Dérouler Forest => Domains => domain.local => Domain controllers Policy => clic droit => Default Domain Controllers Policy => Edit
![vm 1](https://github.com/user-attachments/assets/29d472fa-6fa3-4007-94fb-395c71a7a008)
##### Dans cette fenêtre toutes les régle User et Computer son réalisable :
![vm 1](https://github.com/user-attachments/assets/59942eaa-1e84-44f2-b43e-656c6b4e5c71)
#### :arrow_forward: exemple edition de GPO
##### Restriction d'un groupe d'utilisateur
##### Dans "Group Policy Management" => dérouler jusqu'au groupe souhaitez => Wilder_student => clic droit => Première option
![vm 1](https://github.com/user-attachments/assets/b2bdc3f9-2b41-4eba-b8c7-b79858f73818)
##### Donner un nom à ce nouveau GPO :arrow_up:
##### Dans wilder_students on vois maintenant le nouveau GPO à droite

![vm 1](https://github.com/user-attachments/assets/65fe4691-7d9b-49d9-810c-e73e5866eca5)
##### Editer
![vm 1](https://github.com/user-attachments/assets/f0d96297-e79e-4617-9492-8f2f5e2db38d)
##### Dérouler le menu corespondant pour trouver la politique de paneau de configuration :
##### Ici User Configuration => Policies => Administrative Templates => Control Panel => Toutes les régles relatives au Control Panel.
![vm 1](https://github.com/user-attachments/assets/eab7e2ff-7310-4ff9-93a5-c7bb008693fd)
##### Mettre disabled puis ok
![vm 1](https://github.com/user-attachments/assets/a837248b-1331-482c-a9db-7d42f6182997)
##### Résultat:
![vm 1](https://github.com/user-attachments/assets/f3145f00-ddc3-49ff-bd53-a51b993a027d)
##### Sur la machine client:
   * ##### Sur Powershell en Admistrator exécuter la commande : gpupdate /force
   * ##### faire windows+R => Ecrire : Control.exe
##### Résultat machine client :
![vm 1](https://github.com/user-attachments/assets/5accd1aa-8048-4c96-9526-538866c74e59)
* #### 3.7.3 Gestion client

#### :bangbang: Prérequis machine sur le même réseau et seveur DNS renseigner sur le/les client(s), les Différent cliens renommé avec des nom diférent :bangbang:

##### :arrow_forward: AD GPO sur le clients:
##### clic sur "View" :arrow_down:

![VM 1](https://github.com/user-attachments/assets/d37402f9-e588-4d37-abfe-8f7820416ac4)
##### Changer "quick access" en This PC et décocher les deux options en bas
![VM 1](https://github.com/user-attachments/assets/f6eebabf-6f98-4d6b-8d75-7e49d90e875d)
##### Résultat attendu
![VM 1](https://github.com/user-attachments/assets/3d302cd2-d1d3-4156-aea2-522243acafe6)
##### :arrow_up: Clic droit dans le blanc, en bas à côté de Local Disk(C:) => "Properties"
##### Puis clic sur "Advanced system settings"(bleu) => renseigner login et password de l'AD => "Change..."(rouge)
![VM 1](https://github.com/user-attachments/assets/1999e37d-e398-498e-b2df-2a727b7ef75a)
##### Choisir la partie "Domain" et renseigner le domaine créer dans l'AD.
![VM 1](https://github.com/user-attachments/assets/14627ca2-8e8b-4642-bd23-7cc1b99e65ce)
##### Le pc client va reboot, et depuis l'AD on aura la main sur toutes les configuration de ce PC depuis GPO de l'AD.

* #### 4) Serveur
**DEPLACER DHCP**
  * #### 4.1 DNS
    * #### 4.1.1 Windows
##### **Le serveur est configuré avec une IP fixe de 172.16.10.10 et le client 172.16.10.20.**

##### 1 Créer un nouveau services DNS avec "Manage==> Add roles and Features."

##### 2 dans DNS manager configurer le service DNS:
 ##### * Clic droit sur les champs dans "Forward Lookup Zones"=> New zone...=> Donner le nom de la zone => Tout garder par defaut.
 ##### * Clic droit sur les champs dans "Reverse Lookup Zones"=> New zone...=> Donner le nom de la zone => Tout garder par defaut.

##### 3 
 ##### sur la nouvelle zone dans "Forward Lookup Zones" clic droit sur la zone=> "New Host (A or AAAA) :
  #####	* créer deux "host" Renseigner les champs => **Name et IP Adress**=> 1 **user** avec l'adresse IP du client et un **svr** avec l'adresse IP du serveur.
  ##### * vérifier dans "Reverse Lookup Zones" que les **PTR** des deux "host" sont présents.

##### 4 Créer un  alias "CNAME" => Clic droit sur "Forward Lookup Zone" => New Alias CNAME
 ##### * "Renseigner Alias Name" et "Fully qualified domain name (FQDN) for target host" => Browse
 ##### * dans "Browse" rechercher sont host A et valider.

##### 5 Renseigner dans les propriétés IPv4 l'adresse IP du serveur DNS sur les deux machine=>Prefered DNS server 172.16.10.10

##### 6 Test nslookup et ping avec le nom de domain( sur le client et le serveur)=> présent dans=>wilder.lan=>srv ou user=>Properties=>user.wilder.lan ou srv.wilder.lan

* #### 4.1.2 Linux
## :trident: Labo DNS sous Bind9

### :one: Dans ce tuto nous allons mettre en place un labo composé de :  
- un serveur DNS sous **Debian 12**  
- un client sous **Debian 12**  
- L'installation et la configuration du package **Bind9**
> Les adresses IP, CIDR, nom de carte réseau et nom de domaine/sous-domaine sont à modifier suivant votre application.

### :two: Configuration IP des deux machines
#### Serveur DNS sous Debian 12
##### :pencil2: Modification du fichier "*interfaces*"
- Nom de la carte réseau `enp0s3`  
- Etat de la carte réseau `static`  
- Adresse IP du serveur DNS `10.0.0.5`  
- Adresse IP de la passerelle `10.0.0.1`  
- CIDR `/24`

![1_interfaces](https://github.com/user-attachments/assets/394ed49c-1d95-441e-8faa-8aa1acb4d77d)

#### Client sous Debian 12
##### :pencil2: Modification du fichier "*interfaces*"
- Nom de la carte réseau `enpos3`  
- Etat de la carte réseau `static`  
- Adresse IP du client `10.0.0.20`  
- Adresse IP de la passerelle `10.0.0.1`  
- CIDR `/24`

![1 1_interfaces](https://github.com/user-attachments/assets/63eed0df-0131-4896-bdf8-5976c81997fa)

##### :pencil2: Modification du fichier "*resolv.conf*"
- Domaine de recherche `wilders.lan`  
- Adresse IP du DNS `10.0.0.5`

![1 2_resolv conf](https://github.com/user-attachments/assets/44700d32-d211-493e-a337-53966d2cc2d5)

### :three: Installation du package DNS
Sur votre serveur DNS mettre a jour le système et installer le package **Bind9**  
- `sudo apt update && sudo apt upgrade`  
- `sudo apt install bind9 bind9-doc`  

### :four: Editions des fichiers de configurations
:warning: Attention à la syntaxe, les fichiers de configs sont sensibles :warning:  
#### :pencil2: Modification du fichier "*/etc/bind/named.conf.options*"
- Réseau `10.0.0.0/24`
- Autorisation de requête DNS `localhost` ; `internal-network`  
- Autorisation de transfert DNS `localhost`  
- Redirection DNS `8.8.8.8`  
- Autorisation de requête récursive `yes`

![2_named conf options](https://github.com/user-attachments/assets/663b2eab-9110-4627-8593-4f23a5a52e97)

#### :pencil2: Modification du fichier "*/etc/bind/named.conf.local*"
- Zone directe `wilders.lan`  
- Zone inverse `0.0.10.in-addr.arpa`  
- Type `master`  
- Fichier directe `/etc/bind/forward.wilders.lan`  
- Fichier inverse `/etc/bind/reverse.wilders.lan`  
- Autorisation de mise à jour `none`
> A ce stade les fichiers de configurations "*forward.wilders.lan*" et "*reverse.wilders.lan*" n'existent pas encore.  

![3_named conf local](https://github.com/user-attachments/assets/48e11add-6ab9-488e-bd40-e96031fcda87)

#### :pencil2: Création du fichier "*forward.wilders.lan*"
Tout d'abord il faut copier le fichier "*db.local*" vers "*forward.wilders.lan*"  
- `cp /etc/bind/db.local /etc/bind/forward.wilders.lan`  
- Déclaration des informations serveur DNS `primary.wilders.lan` ; `10.0.0.5`  
- Enregistrement "A" de `www` en `10.0.0.20`  
- Enregistrement "CNAME" du sous-domaine `www.wilders.lan`  

![4_forward wilders lan](https://github.com/user-attachments/assets/fd766c58-df93-4926-a2b5-bdf62f632b5c)

#### :pencil2: Création du fichier "*reverse.wilders.lan*"
Tout d'abord il faut copier le fichier "*db.127*" vers "*reverse.wilders.lan*"  
- `cp /etc/bind/db.127 /etc/bind/reverse.wilders.lan`  
- Déclaration des informations serveur DNS `primary.wilders.lan` ; `10.0.0.5`  
- Enregistrement inverse `5` du sous-domaine `primary.wilders.lan`  
- Enregistrement inverse `20` du sous-domaine `www.wilders.lan`

![5_reverse wilders lan](https://github.com/user-attachments/assets/2289a0ba-1bd4-431c-8c86-26267527fa82)

#### :pencil2: Modification du fichier "*/etc/default/named*"
- Options `-4`  

![6_named](https://github.com/user-attachments/assets/948e4e9a-a05b-47a3-8656-f1f2c9578ab3)

### :five: Lancement du service "*named*"
- `sudo systemctl start named`
- `sudo systemctl enable named`
- `sudo systemctl status named`

![10_systemctl_status_named](https://github.com/user-attachments/assets/08de342d-4b84-40b6-9742-77749c8df673)

### :hammer: Débogage
:sos: Contrôler vos logs à tout moment pour poser un diagnostique `journalctl`  
- Ping depuis serveur vers client `ping`
- Vérification de la syntaxe du fichier "*named.conf.local*" avec `named-checkconf`
- Vérification de la syntaxe des fichiers "*forward*" et "*reverse*" avec `named-checkzone`
- Ouverture du port 53 si parefeu actif `sudo ufw allow 53`  

### :negative_squared_cross_mark: Quelques tests depuis la machine client
- `dig primary.wilders.lan`  
![7_dig_primary wilders lan](https://github.com/user-attachments/assets/caf4ba41-6ab4-455a-844a-933139197d4d)

- `dig -x 10.0.0.5`  
![8_dig-x_10 0 0 5](https://github.com/user-attachments/assets/4f660e41-0b64-4f9e-b471-89b78d9f5159)

- `nslookup www.wilders.lan`   
![9_nslookup_www wilders lan](https://github.com/user-attachments/assets/3a9d842c-f46f-4669-9f73-3ec14f535395)


:information_source: Plus d'infos : https://bind9.readthedocs.io/en/v9.18.31/index.html
  





* #### 4.2 PROXMOX
   
   #### Connection à PROXMOX https://@IP:8006/
   
   * #### 4.2.1 Ajout/Gestion disque
   ##### :arrow_forward: 
   
   
   * #### 4.2.2 Vm
     * #### 4.2.2.1 Clones

     * #### 4.2.2.2 Template

     * #### 4.2.2.3 Snapshot
  * #### 4.3 SSH
#### DEMO SSH AVEC IDENTIFICATION AUTO
## UBUNTU -> UBUNTU


ON EXECUTE TERMINAL SUR LES DEUX MACHINES

- On vérifie qu'on a openssh serveur sur le client:
`sshd -V`                                  (*Pour vérifier si installé, si pas installer:*)

`sudo apt install openssh-server`

`sshd -V`								        (*Pour vérifier*)

`systemctl status ssh`							(*Si pas activé:*)

`systemctl enable ssh`							(*Rend actif au démarrage*)

`systemctl status ssh`

`systemctl status sshd`							(*Si tout est bon tout est vert et enable*)


- On met sur le même réseaux ip (VM en pont) et on redémarre le service 
`sudo systemctl restart Networking (ou NetworkManager)`

`ip a`									        (*Pour récupérer IP*)

`ping (adresse ip)`							    (*On vérifie si la communication est ok*)


- On se connecte depuis le serveur pour vérifier que tout est ok:
`ssh client@ip`							    (*On dit oui et on tape le mdp*)

`exit`


- On créé une clé ssh:
`ssh-keygen -t ecdsa`

`yes`

`passphrase pas obligé` 

`ls -a`								        (*Pour vérifier le fichier .ssh =>lieu de stockage de la clé ssh*)

- On déploie la clé ssh publique depuis le serveur vers le client:
`ssh-copy-id -i /home/user/.ssh/id_ecdsa.pub client@ip`

`on rentre le mdp` 							      (*Si tout est ok on se connecte*)


- On vérifie que la clé correspond sur les machines:
`cat /home/wcs/.ssh/id_ecdsa.pub`					(*Sur le serveur*)

`cat .ssh/auhorized-keys` 						    (*Sur le client*)


- On se connecte:
`ssh client@ip`							        (*SI tout est ok on entre pas de MDP*)

---
## WINDOWS -> WINDOWS


ON EXECUTE POWERSHELL EN ADMIN SUR LES DEUX MACHINES =`toujours un mdp sur le client pour ssh ok sur windows


- On vérifie les services clients: 

`get-service ssh-agent`


- On active la fonctionnalité client-ssh sur nos machines:

=>système =>fonctionnalités facultatives =`on vérifie client ssh


- On vérifie la fonctionnalité serveur-ssh sur le client

=>système.... =>ajouter une fonctionnalité =`serveur OpenSSH

- On vérifie le service sur le client avec

`get-service sshd`						(*Si pas activé:*)

`get-service sshd | Set-Service -StartupType automatic`			(*Puis on démarre:*)

`Restart-Service sshd`							(*On vérifie:*)

`get-service sshd`							(*Si tout est ok running*)


- On met sur le même réseaux ip (VM en pont) 
`ipconfig`								(*On récupère l'IP du client*)


- On test la connection SSH depuis le serveur:
`ssh client@ip powershell`					(*Si tout est bon on entre le MDP =>on précise PowerShell*)

`exit`

-sur le serveur, on créé la clef SSH:
`ssh-keygen -t ecdsa`							(*On va vérifier ou est la clé et si tout est ok:*)

`Set-Location c:\Users\client\.ssh\`

`get ChildItem`							(*On vérifie la clé*)


- On déploie la clé ssh publique depuis le serveur vers le client:
`On va la copier directement dans le fichier source:`

`get-content -path .\.ssh\id_ecdsa.pub	`				(*On copie*)

`ssh client@ip	`						(*On se connecte en ssh au client*)

`add-content -path .ssh\authorized_keys -value "la clé"`		(*On va vérifier dans le fichier du client*)


- On va dans programme data sur le client:

`C:\ProgramData\ssh\sshd_config`               			(*élément masqué dans affichage classique*)

`On commente la ligne MATCH group administrator`			(*On save et on redémarre le service:*)

`Restart-Service sshd`


- On se connecte en ssh et normalement pas de MDP:
`ssh client@ip`

---
## UBUNTU -> WINDOWS


ON EXCECUTE TERMINAL ET POWERSHELL EN ADMIN SUR LES MACHINES RESPECTIVES
=>Même vérification pour Openssh que précédemment


- On vérifie si on peut se connecter en ssh 
`ssh client@ip powershell`						(*Si tout est ok on quitte*)

`exit`


- On déploie la clé depuis ubuntu vers windows
`cat .ssh/idecdsa.pub`							(*On copie*)
`ssh client@ip`								(*On se connecte en ssh au client*)

`add-content -path .ssh\authorized_keys -value "la clé"`		(*On colle*)


- On va dans programme data sur le client:
`C:\ProgramData\ssh\sshd_config`					(*Elément masqué dans affichage classique*)

`On commente la ligne MATCH group administrator`			(*On save et on redémarre le service:*)

`Restart-Service sshd`


- On se connecte en ssh et normalement pas de MDP:
`ssh client@ip`

---
## WINDOWS -> UBUNTU


ON EXCECUTE TERMINAL ET POWERSHELL EN ADMIN SUR LES MACHINES RESPECTIVES
=>Même vérification pour Openssh que précédemment


- On vérifie si on peut se connecter en ssh 
`ssh client@ip` 							(*Si tout est ok on quitte*)
`exit`


- On déploie la clé depuis Windows vers Ubuntu
`get-content -path .\.ssh\id_ecdsa.pub`				(*On copie*)
`ssh client@ip`								(*On se connecte en ssh au client*)

`nano .ssh/authorized_keys	`					(*On colle*)


- On se connecte en ssh et normalement pas de MDP:
`ssh client@ip`

* #### 5) Cisco Packet Tracer
  * #### 5.1 Routage Commande

#### interface GigabitEthernet0/*.................Accède au mode de configuration de l'interface.
#### ip address...................................Définit l'adresse IPv4 et son masque de sous-réseau pour l'interface.
#### ipv6 address.................................Définit l'adresse IPv6 et son préfixe pour l'interface.
#### no shutdown..................................Active l'interface.
#### exit.........................................Quitte le mode de configuration de l'interface pour retourner au mode de configuration terminal.
#### ipv6 unicast-routing.........................Active le routage de IPv6.
#### do show ipv6 interface brief.................Voir la config' ipv6


### Configurer un router CLI :

#### Le nom :
* #### Router> enable
* #### Router# configure terminal
* #### Router(config)# hostname R0
* #### R0(config)# 


#### Les IP :
* #### R0> enable
* #### R0# configure terminal
* #### R0(config)# interface GigabitEthernet0/1
* #### R0(config-if)# ip address 192.168.1.1 255.255.255.0
* #### R0(config-if)# ipv6 address 2001:db8:f3c1:1::1/64
* #### R0(config-if)# no shutdown
* #### R0(config-if)# exit
* #### R0(config)# interface GigabitEthernet0/1
* #### R0(config-if)# ip address 192.168.2.1 255.255.255.0
* #### R0(config-if)# ipv6 address 2001:db8:f3c1:2::1/64
* #### R0(config-if)# no shutdown
* #### R0(config-if)# exit
* #### R0(config)# ipv6 unicast-routin




